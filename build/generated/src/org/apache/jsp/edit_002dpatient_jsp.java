package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class edit_002dpatient_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.ArrayList<String>(3);
    _jspx_dependants.add("/components/header.html");
    _jspx_dependants.add("/components/sidebar.html");
    _jspx_dependants.add("/components/footer.html");
  }

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("<!DOCTYPE html>\r\n");
      out.write("<html lang=\"en\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    <!-- blog23:34-->\r\n");
      out.write("    <head>\r\n");
      out.write("        \r\n");
      out.write("        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=0\">\r\n");
      out.write("        <meta charset=\"UTF-8\" />\r\n");
      out.write("        <link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"assets/img/logo-dark.png\">\r\n");
      out.write("        <title>PHR - Manage Personal Health Record</title>\r\n");
      out.write("        <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/css/bootstrap.min.css\">\r\n");
      out.write("        <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/css/font-awesome.min.css\">\r\n");
      out.write("        <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/css/select2.min.css\">\r\n");
      out.write("        <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/css/bootstrap-datetimepicker.min.css\">\r\n");
      out.write("        <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/css/style.css\">\r\n");
      out.write("        <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/css/customStyle.css\">\r\n");
      out.write("        <script src=\"https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js\"></script>\r\n");
      out.write("        <script src=\"https://www.gstatic.com/firebasejs/7.7.0/firebase-storage.js\"></script>\r\n");
      out.write("        <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js\"></script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        <style>\r\n");
      out.write("            .sidebar-menu li a {\r\n");
      out.write("                color: black;\r\n");
      out.write("                font-weight: 500;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .sidebar-menu li#aPatient a {\r\n");
      out.write("                color: #009efb;\r\n");
      out.write("                /*background-color: #2a9c31;*/\r\n");
      out.write("                background-color: #e3e7e8;\r\n");
      out.write("            }\r\n");
      out.write("            .error {\r\n");
      out.write("                border-color: #FF0000 !important;\r\n");
      out.write("            }\r\n");
      out.write("            #avatar{\r\n");
      out.write("                overflow: hidden\r\n");
      out.write("            }\r\n");
      out.write("        </style>\r\n");
      out.write("    </head>\r\n");
      out.write("\r\n");
      out.write("    ");
      out.write("<body>\n");
      out.write("\n");
      out.write("    <div class=\"main-wrapper\">\n");
      out.write("        <div class=\"header\">\n");
      out.write("            <div class=\"header-left\">\n");
      out.write("                <a href=\"adminIndex.jsp\" class=\"logo\">\n");
      out.write("                    <img src=\"assets/img/logo.png\" width=\"35\" height=\"35\" alt=\"\"> <span>PHR</span>\n");
      out.write("                </a>\n");
      out.write("            </div>\n");
      out.write("            <a id=\"toggle_btn\" href=\"javascript:void(0);\"><i class=\"fa fa-bars\"></i></a>\n");
      out.write("            <a id=\"mobile_btn\" class=\"mobile_btn float-left\" href=\"#sidebar\"><i class=\"fa fa-bars\"></i></a>\n");
      out.write("\n");
      out.write("            <ul class=\"nav user-menu float-right\">\n");
      out.write("                <li class=\"nav-item dropdown d-none d-sm-block\">\n");
      out.write("                    <a href=\"#\" class=\"dropdown-toggle nav-link\" data-toggle=\"dropdown\"><i class=\"fa fa-bell-o\"></i> <span id='number' class=\"badge badge-pill bg-danger float-right\">0</span></a>\n");
      out.write("                    <div class=\"dropdown-menu notifications\">\n");
      out.write("                        <div class=\"topnav-dropdown-header\">\n");
      out.write("                            <span>Notifications</span>\n");
      out.write("                        </div>\n");
      out.write("                        <div id='show' class=\"drop-scroll\">\n");
      out.write("                            <ul class=\"notification-list\">\n");
      out.write("                                <li class=\"notification-message\">\n");
      out.write("                                    <a href=\"#\">\n");
      out.write("                                        <div class=\"media\">\n");
      out.write("                                            <div class=\"media-body\">\n");
      out.write("                                                 <p class=\"noti-details\"> No Notifications</p>\n");
      out.write("                                            </div>\n");
      out.write("                                        </div>\n");
      out.write("                                    </a>\n");
      out.write("                                </li>\n");
      out.write("                            </ul>\n");
      out.write("                        </div>\n");
      out.write("                        <div class=\"topnav-dropdown-footer\">\n");
      out.write("                            <a></a>\n");
      out.write("                        </div>\n");
      out.write("                    </div>\n");
      out.write("                </li>\n");
      out.write("                <!--                <li class=\"nav-item dropdown d-none d-sm-block\">\n");
      out.write("                                    <a href=\"javascript:void(0);\" id=\"open_msg_box\" class=\"hasnotifications nav-link\"><i class=\"fa fa-comment-o\"></i> <span class=\"badge badge-pill bg-danger float-right\">8</span></a>\n");
      out.write("                                </li>-->\n");
      out.write("                <li class=\"nav-item dropdown has-arrow\">\n");
      out.write("                    <a href=\"#\" class=\"dropdown-toggle nav-link user-link\" data-toggle=\"dropdown\">\n");
      out.write("                        <span class=\"user-img\"><img class=\"rounded-circle\" src=\"\" width=\"40\" alt=\"\">\n");
      out.write("                            <span class=\"status online\"></span></span>\n");
      out.write("                        <span id=\"welcomeUser\"></span>                      \n");
      out.write("                    </a>\n");
      out.write("                    <div class=\"dropdown-menu\">\n");
      out.write("                        <a class=\"dropdown-item\" href=\"profileAdmin.jsp\">My Profile</a>\n");
      out.write("\n");
      out.write("                        <a class=\"dropdown-item Logout\" id=\"Logout\" href=\"login.html\" >Logout</a>\n");
      out.write("                    </div>\n");
      out.write("                </li>\n");
      out.write("            </ul>\n");
      out.write("            <div class=\"dropdown mobile-user-menu float-right\">\n");
      out.write("                <a href=\"#\" class=\"nav-link dropdown-toggle\" data-toggle=\"dropdown\" aria-expanded=\"false\"><i class=\"fa fa-ellipsis-v\"></i></a>\n");
      out.write("                <div class=\"dropdown-menu dropdown-menu-right\">\n");
      out.write("                    <a class=\"dropdown-item\" href=\"profileAdmin.jsp\">My Profile</a>\n");
      out.write("\n");
      out.write("                    <a class=\"dropdown-item Logout\" href=\"login.html\">Logout</a>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        </div>\n");
      out.write("        <script>\n");
      out.write("            var url = localStorage.getItem(\"image\");\n");
      out.write("            $('.rounded-circle').attr({\n");
      out.write("                'src': url,\n");
      out.write("            });\n");
      out.write("            $(\".Logout\").click(function (event) {\n");
      out.write("                localStorage.setItem(\"key\", \"\");\n");
      out.write("            });\n");
      out.write("            var token = localStorage.getItem(\"key\");\n");
      out.write("                                                       //redirect to login when user not login\n");
      out.write("//            if (token === \"\") {\n");
      out.write("//                document.location.href = \"login.html\";\n");
      out.write("//            }\n");
      out.write("            var user = localStorage.getItem(\"name\");\n");
      out.write("            var firstName = user.split(\" \");\n");
      out.write("            var name = firstName[firstName.length - 1];\n");
      out.write("            $(\"#welcomeUser\").text(name);\n");
      out.write("            $(document).ready(realTime);\n");
      out.write("            function realTime() {\n");
      out.write("                var xmlhttp = new XMLHttpRequest();\n");
      out.write("                xmlhttp.onreadystatechange = function () {\n");
      out.write("                    if (xmlhttp.readyState === XMLHttpRequest.DONE) {   // XMLHttpRequest.DONE == 4\n");
      out.write("                        if (xmlhttp.status === 200) {\n");
      out.write("                            var x = \"\";\n");
      out.write("                            var today = new Date().getTime();\n");
      out.write("                            function parseDMYhm(s) {\n");
      out.write("                                var b = s.split(/\\D/);\n");
      out.write("                                return new Date(b[0], b[1], b[2], b[3], b[4]).getTime();\n");
      out.write("                            }\n");
      out.write("                            var valueSort = xmlhttp.response.sort(function (a, b) {\n");
      out.write("                                return parseDMYhm(b.time) - parseDMYhm(a.time);\n");
      out.write("                            });\n");
      out.write("                            for (var i = 0; i < valueSort.length; i++) {\n");
      out.write("                                var split = valueSort[i].time.split(\"Z\");\n");
      out.write("                                var time = new Date(split[0]).getTime();\n");
      out.write("\n");
      out.write("                                var change = (today - time) / 1000;\n");
      out.write("                                if (change < 60) {\n");
      out.write("                                    x += '<ul id=\"noti\" class=\"notification-list\"><li class=\"notification-message\"><a href=\"#\"><div class=\"media\"><span class=\"avatar\"><img alt=\"John Doe\" src=\"' + valueSort[i].userId.image + '\" class=\"img-fluid rounded-circle\"></span><div class=\"media-body\"><p class=\"noti-details\"><span class=\"noti-title\">' + valueSort[i].userId.fullname + '</span> review <span class=\"noti-title\">' + valueSort[i].examinationId.clinicId.name + '</span></p><p class=\"noti-time\"><span class=\"notification-time\">' + parseInt(change) + ' second ago</span></p></div></div></a></li></ul>'\n");
      out.write("\n");
      out.write("                                } else if (change > 60 && change < 3600) {\n");
      out.write("                                    x += '<ul id=\"noti\" class=\"notification-list\"><li class=\"notification-message\"><a href=\"#\"><div class=\"media\"><span class=\"avatar\"><img alt=\"John Doe\" src=\"' + valueSort[i].userId.image + '\" class=\"img-fluid rounded-circle\"></span><div class=\"media-body\"><p class=\"noti-details\"><span class=\"noti-title\">' + valueSort[i].userId.fullname + '</span> review <span class=\"noti-title\">' + valueSort[i].examinationId.clinicId.name + '</span></p><p class=\"noti-time\"><span class=\"notification-time\">' + parseInt(change / 60) + ' minute ago</span></p></div></div></a></li></ul>'\n");
      out.write("                                } else if (change > 3600 && change < 86400) {\n");
      out.write("                                    x += '<ul id=\"noti\" class=\"notification-list\"><li class=\"notification-message\"><a href=\"#\"><div class=\"media\"><span class=\"avatar\"><img alt=\"John Doe\" src=\"' + valueSort[i].userId.image + '\" class=\"img-fluid rounded-circle\"></span><div class=\"media-body\"><p class=\"noti-details\"><span class=\"noti-title\">' + valueSort[i].userId.fullname + '</span> review <span class=\"noti-title\">' + valueSort[i].examinationId.clinicId.name + '</span></p><p class=\"noti-time\"><span class=\"notification-time\">' + parseInt(change / 3600) + ' hour ago</span></p></div></div></a></li></ul>'\n");
      out.write("\n");
      out.write("                                } else if (change > 86400 && change < 604800) {\n");
      out.write("                                    x += '<ul id=\"noti\" class=\"notification-list\"><li class=\"notification-message\"><a href=\"#\"><div class=\"media\"><span class=\"avatar\"><img alt=\"John Doe\" src=\"' + valueSort[i].userId.image + '\" class=\"img-fluid rounded-circle\"></span><div class=\"media-body\"><p class=\"noti-details\"><span class=\"noti-title\">' + valueSort[i].userId.fullname + '</span> review <span class=\"noti-title\">' + valueSort[i].examinationId.clinicId.name + '</span></p><p class=\"noti-time\"><span class=\"notification-time\">' + parseInt(change / 86400) + ' day ago</span></p></div></div></a></li></ul>'\n");
      out.write("\n");
      out.write("                                } else if (change > 604800 && change < (604800 * 4)) {\n");
      out.write("                                    x += '<ul id=\"noti\" class=\"notification-list\"><li class=\"notification-message\"><a href=\"#\"><div class=\"media\"><span class=\"avatar\"><img alt=\"John Doe\" src=\"' + valueSort[i].userId.image + '\" class=\"img-fluid rounded-circle\"></span><div class=\"media-body\"><p class=\"noti-details\"><span class=\"noti-title\">' + valueSort[i].userId.fullname + '</span> review <span class=\"noti-title\">' + valueSort[i].examinationId.clinicId.name + '</span></p><p class=\"noti-time\"><span class=\"notification-time\">' + parseInt(change / 604800) + ' week ago</span></p></div></div></a></li></ul>'\n");
      out.write("\n");
      out.write("                                }\n");
      out.write("                                localStorage.setItem(\"request\", JSON.stringify(valueSort[i]));\n");
      out.write("                                $(document).on('click', '[id^=\"noti\"]', function () {\n");
      out.write("                                    window.location.href = \"acceptRatingClinic.jsp\";\n");
      out.write("                                });\n");
      out.write("                            }\n");
      out.write("\n");
      out.write("                            $(\"#number\").html(xmlhttp.response.length);\n");
      out.write("                            $(\"#show\").html(x);\n");
      out.write("                            setTimeout(realTime, 15000);\n");
      out.write("                        }\n");
      out.write("\n");
      out.write("                    }\n");
      out.write("                };\n");
      out.write("\n");
      out.write("                xmlhttp.open(\"GET\", \"https://bt-application.herokuapp.com/api/rating/findbystatus/waiting accept\", true);\n");
      out.write("                xmlhttp.setRequestHeader(\"Authorization\", \"Bearer \" + token);\n");
      out.write("                xmlhttp.responseType = 'json';\n");
      out.write("                xmlhttp.send();\n");
      out.write("            }\n");
      out.write("        </script>");
      out.write("\r\n");
      out.write("    ");
      out.write("<div class=\"sidebar\" id=\"sidebar\">\n");
      out.write("    <div class=\"sidebar-inner slimscroll\">\n");
      out.write("        <div id=\"sidebar-menu\" class=\"sidebar-menu\">\n");
      out.write("            <ul>\n");
      out.write("                <li class=\"menu-title\">&nbsp; &nbsp; &nbsp;&nbsp;Admin Menu</li>\n");
      out.write("                \n");
      out.write("                <li id=\"aHome\">\n");
      out.write("                    <a href=\"adminIndex.jsp\"><i class=\"fa fa-home\"></i> <span>Home</span></a>\n");
      out.write("                </li>\n");
      out.write("                \n");
      out.write("\n");
      out.write("                \n");
      out.write("                <li id=\"aDoctor\">\n");
      out.write("                    <a href=\"doctors.jsp\"><i class=\"fa fa-user-md\"></i> <span>Doctors</span></a>\n");
      out.write("                </li>\n");
      out.write("                \n");
      out.write("                <li>\n");
      out.write("                <li id=\"aRecep\">\n");
      out.write("                    <a href=\"receptionist.jsp\"><i class=\"fa fa-user-circle-o\"></i> <span>Receptionists</span></a>\n");
      out.write("                </li>\n");
      out.write("                </li>\n");
      out.write("                <li>\n");
      out.write("                <li id=\"aPatient\">\n");
      out.write("                    <a id=\"patientSidebar\" href=\"patients.jsp\"><i class=\"fa fa-wheelchair\"></i> <span>Patients</span></a>\n");
      out.write("                </li>\n");
      out.write("                </li>\n");
      out.write("                <li>\n");
      out.write("                <li id=\"aClinic\">\n");
      out.write("                    <a href=\"clinics.jsp\"><i class=\"fa fa-hospital-o\"></i> <span>Clinics</span></a>\n");
      out.write("                </li>\n");
      out.write("                </li>\n");
      out.write("\n");
      out.write("                <li class=\"submenu\" >\n");
      out.write("                    <a href=\"#\"><i class=\"fa fa-medkit\"></i> <span> Test</span> <span class=\"menu-arrow\"></span></a>\n");
      out.write("                    <ul style=\"display: none;\">\n");
      out.write("\n");
      out.write("                        <li id=\"aTestIndex\">\n");
      out.write("                            <a href=\"testIndex.jsp\"><i class=\"fa fa-file\"></i> <span>Test Index</span></a>\n");
      out.write("                        </li>  \n");
      out.write("                        <li id=\"aTest\">\n");
      out.write("                            <a href=\"test.jsp\"><i class=\"fa fa-archive\"></i> <span>Test Package</span></a>\n");
      out.write("                        </li>\n");
      out.write("<!--                        <li id=\"aTestPackage\">\n");
      out.write("                            <a href=\"testPackage.jsp\"><i class=\"fa fa-archive\"></i> <span>Test Package</span></a>\n");
      out.write("                        </li>-->\n");
      out.write("                    </ul>\n");
      out.write("                </li>\n");
      out.write("<!--                <li>\n");
      out.write("                <li id=\"aGroup\">\n");
      out.write("                    <a href=\"error-404.html\"><i class=\"fa fa-users\"></i> <span>Group</span></a>\n");
      out.write("                </li>\n");
      out.write("                </li>-->\n");
      out.write("                <!--                            <li>\n");
      out.write("                                                <a href=\"appointments.html\"><i class=\"fa fa-calendar\"></i> <span>Appointments</span></a>\n");
      out.write("                                            </li>\n");
      out.write("                                            <li>\n");
      out.write("                                                <a href=\"schedule.html\"><i class=\"fa fa-calendar-check-o\"></i> <span>Doctor Schedule</span></a>\n");
      out.write("                                            </li>\n");
      out.write("                \n");
      out.write("                                            <li>\n");
      out.write("                                                <a href=\"settings.html\"><i class=\"fa fa-cog\"></i> <span>Settings</span></a>\n");
      out.write("                                            </li>\n");
      out.write("                \n");
      out.write("                                            <li class=\"submenu\">\n");
      out.write("                                                <a href=\"#\"><i class=\"fa fa-edit\"></i> <span> Forms</span> <span class=\"menu-arrow\"></span></a>\n");
      out.write("                                                <ul style=\"display: none;\">\n");
      out.write("                                                    <li><a href=\"form-basic-inputs.html\">Basic Inputs</a></li>\n");
      out.write("                                                    <li><a href=\"form-input-groups.html\">Input Groups</a></li>\n");
      out.write("                                                    <li><a href=\"form-horizontal.html\">Horizontal Form</a></li>\n");
      out.write("                                                    <li><a href=\"form-vertical.html\">Vertical Form</a></li>\n");
      out.write("                                                </ul>\n");
      out.write("                                            </li>\n");
      out.write("                \n");
      out.write("                                            <li class=\"menu-title\">Extras</li>\n");
      out.write("                                            <li class=\"submenu\">\n");
      out.write("                                                <a href=\"#\"><i class=\"fa fa-columns\"></i> <span>Pages</span> <span class=\"menu-arrow\"></span></a>\n");
      out.write("                                                <ul style=\"display: none;\">\n");
      out.write("                                                    <li><a href=\"login.html\"> Login </a></li>\n");
      out.write("                                                    <li><a href=\"register.html\"> Register </a></li>\n");
      out.write("                                                    <li><a href=\"forgot-password.html\"> Forgot Password </a></li>\n");
      out.write("                                                    <li><a href=\"change-password2.html\"> Change Password </a></li>\n");
      out.write("                                                    <li><a href=\"lock-screen.html\"> Lock Screen </a></li>\n");
      out.write("                                                    <li><a href=\"profile.html\"> Profile </a></li>\n");
      out.write("                                                    <li><a href=\"gallery.html\"> Gallery </a></li>\n");
      out.write("                                                    <li><a href=\"error-404.html\">404 Error </a></li>\n");
      out.write("                                                    <li><a href=\"error-500.html\">500 Error </a></li>\n");
      out.write("                                                    <li><a href=\"blank-page.html\"> Blank Page </a></li>\n");
      out.write("                                                </ul>\n");
      out.write("                                            </li>\n");
      out.write("                                            <li class=\"submenu\">\n");
      out.write("                                                <a href=\"javascript:void(0);\"><i class=\"fa fa-share-alt\"></i> <span>Multi Level</span> <span class=\"menu-arrow\"></span></a>\n");
      out.write("                                                <ul style=\"display: none;\">\n");
      out.write("                                                    <li class=\"submenu\">\n");
      out.write("                                                        <a href=\"javascript:void(0);\"><span>Level 1</span> <span class=\"menu-arrow\"></span></a>\n");
      out.write("                                                        <ul style=\"display: none;\">\n");
      out.write("                                                            <li><a href=\"javascript:void(0);\"><span>Level 2</span></a></li>\n");
      out.write("                                                            <li class=\"submenu\">\n");
      out.write("                                                                <a href=\"javascript:void(0);\"> <span> Level 2</span> <span class=\"menu-arrow\"></span></a>\n");
      out.write("                                                                <ul style=\"display: none;\">\n");
      out.write("                                                                    <li><a href=\"javascript:void(0);\">Level 3</a></li>\n");
      out.write("                                                                    <li><a href=\"javascript:void(0);\">Level 3</a></li>\n");
      out.write("                                                                </ul>\n");
      out.write("                                                            </li>\n");
      out.write("                                                            <li><a href=\"javascript:void(0);\"><span>Level 2</span></a></li>\n");
      out.write("                                                        </ul>\n");
      out.write("                                                    </li>\n");
      out.write("                                                    <li>\n");
      out.write("                                                        <a href=\"javascript:void(0);\"><span>Level 1</span></a>\n");
      out.write("                                                    </li>\n");
      out.write("                                                </ul>\n");
      out.write("                                            </li>-->\n");
      out.write("            </ul>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("</div>");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    <!-- ============================================== Add Patient Form ================================================ -->\r\n");
      out.write("\r\n");
      out.write("    <div class=\"page-wrapper\">\r\n");
      out.write("        <div class=\"content\">\r\n");
      out.write("            <div class=\"row\">\r\n");
      out.write("                <div class=\"col-lg-8 offset-lg-2\">\r\n");
      out.write("                    <h4 class=\"page-title\">Update Patient</h4>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"row\">\r\n");
      out.write("                <div class=\"col-lg-8 offset-lg-2\">\r\n");
      out.write("                    <form id=\"myForm\" >\r\n");
      out.write("                        <div class=\"row\">\r\n");
      out.write("                            <div class=\"col-sm-6\">\r\n");
      out.write("                                <div class=\"form-group\">\r\n");
      out.write("                                    <label>First Name <span class=\"text-danger\">*</span></label>\r\n");
      out.write("                                    <input class=\"form-control\" id='inputFirstname' name=\"firstName\" type=\"text\" >\r\n");
      out.write("                                    <span id='messageFirstname'></span>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"col-sm-6\">\r\n");
      out.write("                                <div class=\"form-group\">\r\n");
      out.write("                                    <label>Last Name <span class=\"text-danger\">*</span></label>\r\n");
      out.write("                                    <input class=\"form-control\" id='inputLastname' name=\"lastName\" type=\"text\" >\r\n");
      out.write("                                    <span id='messageLastname'></span>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("<!--                            <div class=\"col-sm-6\">\r\n");
      out.write("                                <div class=\"form-group\">\r\n");
      out.write("                                    <label>Username <span class=\"text-danger\">*</span></label>\r\n");
      out.write("                                    <input id='inputUsername' class=\"form-control\" name=\"username\" type=\"text\" required>\r\n");
      out.write("                                    <span id='messageUsername'></span>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"col-sm-6\">\r\n");
      out.write("                                <div class=\"form-group\">\r\n");
      out.write("                                    <label>Email</label>\r\n");
      out.write("                                    <input id='inputEmail' class=\"form-control\" name=\"email\" type=\"email\" required>\r\n");
      out.write("                                    <span id='messageEmail'></span>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>-->\r\n");
      out.write("                            <div class=\"col-sm-6\">\r\n");
      out.write("                                <div class=\"form-group\">\r\n");
      out.write("                                    <label>Password <span class=\"text-danger\">*</span></label>\r\n");
      out.write("                                    <input class=\"form-control\" id='inputPassword' name=\"password\" type=\"password\" onkeyup='check()'>\r\n");
      out.write("                                    <span id='messagePassword'></span>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"col-sm-6\">\r\n");
      out.write("                                <div class=\"form-group\">\r\n");
      out.write("                                    <label>Confirm Password <span class=\"text-danger\">*</span></label>\r\n");
      out.write("                                    <input class=\"form-control\" id=\"confirmPass\" name=\"confirmPass\" type=\"password\" onkeyup='check()'>\r\n");
      out.write("                                    <span id='message'></span>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"col-sm-6\">\r\n");
      out.write("                                <div class=\"form-group\">\r\n");
      out.write("                                    <label>Date of Birth</label>\r\n");
      out.write("                                    <div class=\"cal-icon\">\r\n");
      out.write("                                        <input id=\"datepicker\" type=\"text\" name=\"dob\" class=\"form-control datetimepicker\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"col-sm-6\">\r\n");
      out.write("                                <div class=\"form-group gender-select\">\r\n");
      out.write("                                    <label class=\"gen-label\">Gender:</label>\r\n");
      out.write("                                    <div class=\"form-check-inline\">\r\n");
      out.write("                                        <label class=\"form-check-label\">\r\n");
      out.write("                                            <input id=\"male\" type=\"radio\" name=\"gender\" class=\"form-check-input\">Male\r\n");
      out.write("                                        </label>\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                    <div class=\"form-check-inline\">\r\n");
      out.write("                                        <label class=\"form-check-label\">\r\n");
      out.write("                                            <input id=\"female\" type=\"radio\" name=\"gender\" class=\"form-check-input\">Female\r\n");
      out.write("                                        </label>\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"col-sm-12\">\r\n");
      out.write("                                <div class=\"row\">\r\n");
      out.write("                                    <div class=\"col-sm-12\">\r\n");
      out.write("                                        <div class=\"form-group\">\r\n");
      out.write("                                            <label>Address</label>\r\n");
      out.write("                                            <input type=\"text\" id=\"address\" name=\"address\" class=\"form-control \">\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </div>\r\n");
      out.write("\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"col-sm-6\">\r\n");
      out.write("                                <div class=\"form-group\">\r\n");
      out.write("                                    <label>Phone <span class=\"text-danger\">*</span></label>\r\n");
      out.write("                                    <input id='inputPhone' class=\"form-control\" name=\"phone\" type=\"number\" readonly>\r\n");
      out.write("                                    <span id='messagePhone'></span>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"col-sm-6\">\r\n");
      out.write("                                <div class=\"form-group\">\r\n");
      out.write("                                    <label>Avatar</label>\r\n");
      out.write("                                    <div class=\"profile-upload\">\r\n");
      out.write("                                        <div class=\"upload-img\">\r\n");
      out.write("                                            <img id='img' alt=\"\" src=\"assets/img/user.jpg\">\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                        <div class=\"upload-input\">\r\n");
      out.write("                                            <input id=\"avatar\" type=\"file\" name=\"avatar\" class=\"form-control\" accept=\"image/x-png,image/gif,image/jpeg\" onchange=\"validateFileType()\">\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("<!--                        <div class=\"form-group\">\r\n");
      out.write("                            <label class=\"display-block\">Status</label>\r\n");
      out.write("                            <div class=\"form-check form-check-inline\">\r\n");
      out.write("                                <input class=\"form-check-input\" type=\"radio\" name=\"status\" id=\"patient_active\" value=\"on\" checked>\r\n");
      out.write("                                <label class=\"form-check-label\" for=\"patient_active\">\r\n");
      out.write("                                    Enable\r\n");
      out.write("                                </label>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <div class=\"form-check form-check-inline\">\r\n");
      out.write("                                <input class=\"form-check-input\" type=\"radio\" name=\"status\" id=\"patient_inactive\" value=\"off\">\r\n");
      out.write("                                <label class=\"form-check-label\" for=\"patient_inactive\">\r\n");
      out.write("                                    Disable\r\n");
      out.write("                                </label>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>-->\r\n");
      out.write("                        <div class=\"m-t-20 text-center\">\r\n");
      out.write("                            <button id=\"createPatient\" class=\"btn btn-primary submit-btn\">Update Patient</button>\r\n");
      out.write("\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </form>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        <!-- ==================================Chat Box And Notification ======================================= -->\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        ");
      out.write("<!--<div class=\"notification-box\">\n");
      out.write("    <div class=\"msg-sidebar notifications msg-noti\">\n");
      out.write("        <div class=\"topnav-dropdown-header\">\n");
      out.write("            <span>Messages</span>\n");
      out.write("        </div>\n");
      out.write("        <div class=\"drop-scroll msg-list-scroll\" id=\"msg_list\">\n");
      out.write("            <ul class=\"list-box\">\n");
      out.write("                <li>\n");
      out.write("                    <a href=\"chat.html\">\n");
      out.write("                        <div class=\"list-item\">\n");
      out.write("                            <div class=\"list-left\">\n");
      out.write("                                <span class=\"avatar\">R</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"list-body\">\n");
      out.write("                                <span class=\"message-author\">Richard Miles </span>\n");
      out.write("                                <span class=\"message-time\">12:28 AM</span>\n");
      out.write("                                <div class=\"clearfix\"></div>\n");
      out.write("                                <span class=\"message-content\">Lorem ipsum dolor sit amet, consectetur adipiscing</span>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li>\n");
      out.write("                    <a href=\"chat.html\">\n");
      out.write("                        <div class=\"list-item new-message\">\n");
      out.write("                            <div class=\"list-left\">\n");
      out.write("                                <span class=\"avatar\">J</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"list-body\">\n");
      out.write("                                <span class=\"message-author\">John Doe</span>\n");
      out.write("                                <span class=\"message-time\">1 Aug</span>\n");
      out.write("                                <div class=\"clearfix\"></div>\n");
      out.write("                                <span class=\"message-content\">Lorem ipsum dolor sit amet, consectetur adipiscing</span>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li>\n");
      out.write("                    <a href=\"chat.html\">\n");
      out.write("                        <div class=\"list-item\">\n");
      out.write("                            <div class=\"list-left\">\n");
      out.write("                                <span class=\"avatar\">T</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"list-body\">\n");
      out.write("                                <span class=\"message-author\"> Tarah Shropshire </span>\n");
      out.write("                                <span class=\"message-time\">12:28 AM</span>\n");
      out.write("                                <div class=\"clearfix\"></div>\n");
      out.write("                                <span class=\"message-content\">Lorem ipsum dolor sit amet, consectetur adipiscing</span>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li>\n");
      out.write("                    <a href=\"chat.html\">\n");
      out.write("                        <div class=\"list-item\">\n");
      out.write("                            <div class=\"list-left\">\n");
      out.write("                                <span class=\"avatar\">M</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"list-body\">\n");
      out.write("                                <span class=\"message-author\">Mike Litorus</span>\n");
      out.write("                                <span class=\"message-time\">12:28 AM</span>\n");
      out.write("                                <div class=\"clearfix\"></div>\n");
      out.write("                                <span class=\"message-content\">Lorem ipsum dolor sit amet, consectetur adipiscing</span>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li>\n");
      out.write("                    <a href=\"chat.html\">\n");
      out.write("                        <div class=\"list-item\">\n");
      out.write("                            <div class=\"list-left\">\n");
      out.write("                                <span class=\"avatar\">C</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"list-body\">\n");
      out.write("                                <span class=\"message-author\"> Catherine Manseau </span>\n");
      out.write("                                <span class=\"message-time\">12:28 AM</span>\n");
      out.write("                                <div class=\"clearfix\"></div>\n");
      out.write("                                <span class=\"message-content\">Lorem ipsum dolor sit amet, consectetur adipiscing</span>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li>\n");
      out.write("                    <a href=\"chat.html\">\n");
      out.write("                        <div class=\"list-item\">\n");
      out.write("                            <div class=\"list-left\">\n");
      out.write("                                <span class=\"avatar\">D</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"list-body\">\n");
      out.write("                                <span class=\"message-author\"> Domenic Houston </span>\n");
      out.write("                                <span class=\"message-time\">12:28 AM</span>\n");
      out.write("                                <div class=\"clearfix\"></div>\n");
      out.write("                                <span class=\"message-content\">Lorem ipsum dolor sit amet, consectetur adipiscing</span>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li>\n");
      out.write("                    <a href=\"chat.html\">\n");
      out.write("                        <div class=\"list-item\">\n");
      out.write("                            <div class=\"list-left\">\n");
      out.write("                                <span class=\"avatar\">B</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"list-body\">\n");
      out.write("                                <span class=\"message-author\"> Buster Wigton </span>\n");
      out.write("                                <span class=\"message-time\">12:28 AM</span>\n");
      out.write("                                <div class=\"clearfix\"></div>\n");
      out.write("                                <span class=\"message-content\">Lorem ipsum dolor sit amet, consectetur adipiscing</span>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li>\n");
      out.write("                    <a href=\"chat.html\">\n");
      out.write("                        <div class=\"list-item\">\n");
      out.write("                            <div class=\"list-left\">\n");
      out.write("                                <span class=\"avatar\">R</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"list-body\">\n");
      out.write("                                <span class=\"message-author\"> Rolland Webber </span>\n");
      out.write("                                <span class=\"message-time\">12:28 AM</span>\n");
      out.write("                                <div class=\"clearfix\"></div>\n");
      out.write("                                <span class=\"message-content\">Lorem ipsum dolor sit amet, consectetur adipiscing</span>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li>\n");
      out.write("                    <a href=\"chat.html\">\n");
      out.write("                        <div class=\"list-item\">\n");
      out.write("                            <div class=\"list-left\">\n");
      out.write("                                <span class=\"avatar\">C</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"list-body\">\n");
      out.write("                                <span class=\"message-author\"> Claire Mapes </span>\n");
      out.write("                                <span class=\"message-time\">12:28 AM</span>\n");
      out.write("                                <div class=\"clearfix\"></div>\n");
      out.write("                                <span class=\"message-content\">Lorem ipsum dolor sit amet, consectetur adipiscing</span>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li>\n");
      out.write("                    <a href=\"chat.html\">\n");
      out.write("                        <div class=\"list-item\">\n");
      out.write("                            <div class=\"list-left\">\n");
      out.write("                                <span class=\"avatar\">M</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"list-body\">\n");
      out.write("                                <span class=\"message-author\">Melita Faucher</span>\n");
      out.write("                                <span class=\"message-time\">12:28 AM</span>\n");
      out.write("                                <div class=\"clearfix\"></div>\n");
      out.write("                                <span class=\"message-content\">Lorem ipsum dolor sit amet, consectetur adipiscing</span>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li>\n");
      out.write("                    <a href=\"chat.html\">\n");
      out.write("                        <div class=\"list-item\">\n");
      out.write("                            <div class=\"list-left\">\n");
      out.write("                                <span class=\"avatar\">J</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"list-body\">\n");
      out.write("                                <span class=\"message-author\">Jeffery Lalor</span>\n");
      out.write("                                <span class=\"message-time\">12:28 AM</span>\n");
      out.write("                                <div class=\"clearfix\"></div>\n");
      out.write("                                <span class=\"message-content\">Lorem ipsum dolor sit amet, consectetur adipiscing</span>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li>\n");
      out.write("                    <a href=\"chat.html\">\n");
      out.write("                        <div class=\"list-item\">\n");
      out.write("                            <div class=\"list-left\">\n");
      out.write("                                <span class=\"avatar\">L</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"list-body\">\n");
      out.write("                                <span class=\"message-author\">Loren Gatlin</span>\n");
      out.write("                                <span class=\"message-time\">12:28 AM</span>\n");
      out.write("                                <div class=\"clearfix\"></div>\n");
      out.write("                                <span class=\"message-content\">Lorem ipsum dolor sit amet, consectetur adipiscing</span>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("                <li>\n");
      out.write("                    <a href=\"chat.html\">\n");
      out.write("                        <div class=\"list-item\">\n");
      out.write("                            <div class=\"list-left\">\n");
      out.write("                                <span class=\"avatar\">T</span>\n");
      out.write("                            </div>\n");
      out.write("                            <div class=\"list-body\">\n");
      out.write("                                <span class=\"message-author\">Tarah Shropshire</span>\n");
      out.write("                                <span class=\"message-time\">12:28 AM</span>\n");
      out.write("                                <div class=\"clearfix\"></div>\n");
      out.write("                                <span class=\"message-content\">Lorem ipsum dolor sit amet, consectetur adipiscing</span>\n");
      out.write("                            </div>\n");
      out.write("                        </div>\n");
      out.write("                    </a>\n");
      out.write("                </li>\n");
      out.write("            </ul>\n");
      out.write("        </div>\n");
      out.write("        <div class=\"topnav-dropdown-footer\">\n");
      out.write("            <a href=\"chat.html\">See all messages</a>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("</div>\n");
      out.write("</div>\n");
      out.write("\n");
      out.write("<div class=\"sidebar-overlay\" data-reff=\"\"></div>\n");
      out.write("<script>\n");
      out.write("    var user = localStorage.getItem(\"name\");\n");
      out.write("    var firstName = user.split(\" \");\n");
      out.write("    var name = firstName[firstName.length - 1];\n");
      out.write("    $(\"#welcomeUser\").text(name);\n");
      out.write("    \n");
      out.write("</script>\n");
      out.write("-->\n");
      out.write("\r\n");
      out.write("        <script src=\"https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js\"></script>\r\n");
      out.write("        <script src=\"https://www.gstatic.com/firebasejs/7.7.0/firebase-storage.js\"></script>\r\n");
      out.write("        <link href=\"https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/css/toastr.css\" rel=\"stylesheet\"/>\r\n");
      out.write("        <script src=\"https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/js/toastr.js\"></script>\r\n");
      out.write("        <script src=\"assets/js/jquery-3.2.1.min.js\"></script>\r\n");
      out.write("        <script src=\"assets/js/popper.min.js\"></script>\r\n");
      out.write("        <script src=\"assets/js/bootstrap.min.js\"></script>\r\n");
      out.write("        <script src=\"assets/js/jquery.slimscroll.js\"></script>\r\n");
      out.write("        <script src=\"assets/js/select2.min.js\"></script>\r\n");
      out.write("        <script src=\"assets/js/moment.min.js\"></script>\r\n");
      out.write("        <script src=\"assets/js/bootstrap-datetimepicker.min.js\"></script>\r\n");
      out.write("        <script src=\"assets/js/app.js\"></script>\r\n");
      out.write("        <script src=\"https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js\"></script>\r\n");
      out.write("        <script type=\"text/javascript\">\r\n");
      out.write("\r\n");
      out.write("//                =====================================Update===============================================\r\n");
      out.write("                                                function validateFileType() {\r\n");
      out.write("                                                    var fileName = document.getElementById(\"avatar\").value;\r\n");
      out.write("                                                    var idxDot = fileName.lastIndexOf(\".\") + 1;\r\n");
      out.write("                                                    var extFile = fileName.substr(idxDot, fileName.length).toLowerCase();\r\n");
      out.write("                                                    if (extFile === \"jpg\" || extFile === \"jpeg\" || extFile === \"png\") {\r\n");
      out.write("                                                        function readURL(input) {\r\n");
      out.write("                                                            if (input.files && input.files[0]) {\r\n");
      out.write("                                                                var reader = new FileReader();\r\n");
      out.write("                                                                reader.onload = function (e) {\r\n");
      out.write("                                                                    $('#img').attr('src', e.target.result);\r\n");
      out.write("\r\n");
      out.write("                                                                }\r\n");
      out.write("\r\n");
      out.write("                                                                reader.readAsDataURL(input.files[0]); // convert to base64 string\r\n");
      out.write("                                                            }\r\n");
      out.write("                                                        }\r\n");
      out.write("\r\n");
      out.write("                                                        readURL(document.getElementById(\"avatar\"));\r\n");
      out.write("\r\n");
      out.write("                                                    } else {\r\n");
      out.write("                                                        toastr[\"error\"](\"Only jpg/jpeg and png files are allowed!\", \"Error\", {\"progressBar\": true, \"closeButton\": true, \"positionClass\": \"toast-top-full-width\"});\r\n");
      out.write("                                                        $(\"input[id='avatar']\").val(\"\");\r\n");
      out.write("                                                        $('#img').attr('src', \"assets/img/user.jpg\");\r\n");
      out.write("                                                    }\r\n");
      out.write("                                                }\r\n");
      out.write("                                                \r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("                                                \r\n");
      out.write("                                                var data = JSON.parse(localStorage.getItem(\"dataPat\"));\r\n");
      out.write("                                                console.log(data);\r\n");
      out.write("                                                window.onload = function () {\r\n");
      out.write("                                                    var name = data.name;\r\n");
      out.write("                                                    var firstName = name.split(\" \");\r\n");
      out.write("                                                    var lastName = name.replace(firstName[firstName.length - 1], \"\");\r\n");
      out.write("                                                    lastName = lastName.trim();\r\n");
      out.write("                                                    $(\"#inputFirstname\").val(firstName[firstName.length - 1]);\r\n");
      out.write("                                                    $(\"#inputLastname\").val(lastName);              //đổi thứ tự last name vs firstname\r\n");
      out.write("\r\n");
      out.write("                                                    var password = data.password;\r\n");
      out.write("                                                    $(\"#inputPassword\").val(password);\r\n");
      out.write("                                                    var confirmPass = data.password;\r\n");
      out.write("                                                    $(\"#confirmPass\").val(confirmPass);\r\n");
      out.write("                                                    var dob = data.dob;\r\n");
      out.write("                                                    $(\"#datepicker\").val(dob);\r\n");
      out.write("                                                    var gender = data.gender;\r\n");
      out.write("                                                    if (gender === \"Male\") {\r\n");
      out.write("                                                        $(\"#male\").prop(\"checked\", true);\r\n");
      out.write("                                                    } else {\r\n");
      out.write("                                                        $(\"#female\").prop(\"checked\", true);\r\n");
      out.write("                                                    }\r\n");
      out.write("                                                    var address = data.address;\r\n");
      out.write("                                                    $(\"#address\").val(address);\r\n");
      out.write("                                                    var phone = data.phone;\r\n");
      out.write("                                                    $(\"#inputPhone\").val(phone);\r\n");
      out.write("                                                    var image = data.image;\r\n");
      out.write("                                                    $('#img').attr('src', image);\r\n");
      out.write("//                                            var avatar = $(\"input[name='avatar']\").val();\r\n");
      out.write("                                                    var status = data.status;\r\n");
      out.write("                                                    if (status === \"enable\") {\r\n");
      out.write("                                                        $(\"#patient_active\").prop(\"checked\", true);\r\n");
      out.write("                                                    } else {\r\n");
      out.write("                                                        $(\"#patient_inactive\").prop(\"checked\", true);\r\n");
      out.write("                                                    }\r\n");
      out.write("\r\n");
      out.write("                                                    var firebaseConfig = {\r\n");
      out.write("                                                        apiKey: \"AIzaSyBf5hSMUpJ-kpx5c87kgll3dXePgK-j9mQ\",\r\n");
      out.write("                                                        authDomain: \"upload-image-45245.firebaseapp.com\",\r\n");
      out.write("                                                        databaseURL: \"https://upload-image-45245.firebaseio.com\",\r\n");
      out.write("                                                        projectId: \"upload-image-45245\",\r\n");
      out.write("                                                        storageBucket: \"upload-image-45245.appspot.com\",\r\n");
      out.write("                                                        messagingSenderId: \"758652365413\",\r\n");
      out.write("                                                        appId: \"1:758652365413:web:f009f179396e4af4de748c\",\r\n");
      out.write("                                                        measurementId: \"G-S5ECRSMKRB\"\r\n");
      out.write("                                                    };\r\n");
      out.write("                                                    // Initialize Firebase\r\n");
      out.write("                                                    firebase.initializeApp(firebaseConfig);\r\n");
      out.write("//                                                    function validateEmail(email)\r\n");
      out.write("//                                                    {\r\n");
      out.write("//                                                        var re = /\\S{3,}@\\S+\\.\\S+/;\r\n");
      out.write("//                                                        return re.test(email);\r\n");
      out.write("//                                                    }\r\n");
      out.write("                                                    function removeAscent(str) {\r\n");
      out.write("                                                        if (str === null || str === undefined) {\r\n");
      out.write("                                                            return str;\r\n");
      out.write("                                                        }\r\n");
      out.write("                                                        str = str.toLowerCase();\r\n");
      out.write("                                                        str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\r\n");
      out.write("                                                        str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\r\n");
      out.write("                                                        str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\r\n");
      out.write("                                                        str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\r\n");
      out.write("                                                        str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\r\n");
      out.write("                                                        str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\r\n");
      out.write("                                                        str = str.replace(/đ/g, \"d\");\r\n");
      out.write("                                                        return str;\r\n");
      out.write("                                                    }\r\n");
      out.write("                                                    function validateName(name)\r\n");
      out.write("                                                    {\r\n");
      out.write("                                                        var re = /^[a-zA-Z ]+$/;\r\n");
      out.write("                                                        return re.test(name);\r\n");
      out.write("                                                    }\r\n");
      out.write("                                                    function validatePhone(phone)\r\n");
      out.write("                                                    {\r\n");
      out.write("                                                        var re = /((09|03|07|08|05)+([0-9]{8})\\b)/g;\r\n");
      out.write("                                                        return re.test(phone);\r\n");
      out.write("                                                    }\r\n");
      out.write("                                                    $(\"#inputFirstname\").click(function () {\r\n");
      out.write("                                                        $('#inputFirstname').removeClass('error');\r\n");
      out.write("                                                        document.getElementById('messageFirstname').innerHTML = '';\r\n");
      out.write("                                                    });\r\n");
      out.write("                                                    $(\"#inputLastname\").click(function () {\r\n");
      out.write("                                                        $('#inputLastname').removeClass('error');\r\n");
      out.write("                                                        document.getElementById('messageLastname').innerHTML = '';\r\n");
      out.write("                                                    });\r\n");
      out.write("//                                                    $(\"#inputUsername\").click(function () {\r\n");
      out.write("//                                                        $('#inputUsername').removeClass('error');\r\n");
      out.write("//                                                        document.getElementById('messageUsername').innerHTML = '';\r\n");
      out.write("//                                                    });\r\n");
      out.write("                                                    $(\"#inputPassword\").click(function () {\r\n");
      out.write("                                                        $('#inputPassword').removeClass('error');\r\n");
      out.write("                                                        document.getElementById('messagePassword').innerHTML = '';\r\n");
      out.write("                                                    });\r\n");
      out.write("                                                    $(\"#inputPhone\").click(function () {\r\n");
      out.write("                                                        $('#inputPhone').removeClass('error');\r\n");
      out.write("                                                        document.getElementById('messagePhone').innerHTML = '';\r\n");
      out.write("                                                    });\r\n");
      out.write("\r\n");
      out.write("                                                    $(\"#createPatient\").click(function (event) {\r\n");
      out.write("                                                        event.preventDefault();\r\n");
      out.write("                                                        var imageOld = data.image;\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("                                                        $('#inputFirstname').removeClass('error');\r\n");
      out.write("                                                        document.getElementById('messageFirstname').innerHTML = '';\r\n");
      out.write("                                                        $('#inputLastname').removeClass('error');\r\n");
      out.write("                                                        document.getElementById('messageLastname').innerHTML = '';\r\n");
      out.write("//                                                        $('#inputUsername').removeClass('error');\r\n");
      out.write("//                                                        document.getElementById('messageUsername').innerHTML = '';\r\n");
      out.write("                                                        $('#inputPassword').removeClass('error');\r\n");
      out.write("                                                        document.getElementById('messagePassword').innerHTML = '';\r\n");
      out.write("                                                        $('#inputPassword').removeClass('error');\r\n");
      out.write("                                                        document.getElementById('messagePassword').innerHTML = '';\r\n");
      out.write("                                                        $('#inputPhone').removeClass('error');\r\n");
      out.write("                                                        document.getElementById('messagePhone').innerHTML = '';\r\n");
      out.write("//                                                        $('#inputEmail').removeClass('error');\r\n");
      out.write("//                                                        document.getElementById('messageEmail').innerHTML = '';\r\n");
      out.write("                                                        var count = 0;\r\n");
      out.write("                                                        var alluser = JSON.parse(localStorage.getItem(\"alluser\"));\r\n");
      out.write("                                                        for (var i = 0; i < alluser.length; i++) {\r\n");
      out.write("\r\n");
      out.write("                                                            if (alluser[i].phone === document.getElementById('inputPhone').value && document.getElementById('inputPhone').value !== data.phone) {\r\n");
      out.write("                                                                $('#inputPhone').addClass('error');\r\n");
      out.write("                                                                document.getElementById('messagePhone').style.color = 'red';\r\n");
      out.write("                                                                document.getElementById('messagePhone').innerHTML = 'Phone already exists ✘';\r\n");
      out.write("                                                                count = 1;\r\n");
      out.write("                                                            }\r\n");
      out.write("\r\n");
      out.write("                                                        }\r\n");
      out.write("                                                        var idUpdate = data.id;\r\n");
      out.write("                                                        var idAccountUpdate = data.accountId;\r\n");
      out.write("                                                        var firstName = $(\"input[name='firstName']\").val(); //lấy giá trị trong input user\r\n");
      out.write("                                                        var lastName = $(\"input[name='lastName']\").val();\r\n");
      out.write("//                                                        var username = $(\"input[name='username']\").val();\r\n");
      out.write("//                                                        var mail = $(\"input[name='email']\").val();\r\n");
      out.write("                                                        var password = $(\"input[name='password']\").val();\r\n");
      out.write("                                                        var dob = $(\"input[name='dob']\").val();\r\n");
      out.write("                                                        var gender = $(\"input[name='gender']\").val();\r\n");
      out.write("                                                        var address = $(\"input[name='address']\").val();\r\n");
      out.write("                                                        var phone = $(\"input[name='phone']\").val();\r\n");
      out.write("                                                        var avatar = $(\"input[id='avatar']\").val();\r\n");
      out.write("                                                        var status = $(\"input[name='status']\").val();\r\n");
      out.write("                                                        var token = localStorage.getItem(\"key\");\r\n");
      out.write("                                                        var selectGen = $('input[id=\"male\"]:checked').val();\r\n");
      out.write("                                                        if (selectGen === \"on\") {\r\n");
      out.write("                                                            gender = \"Male\";\r\n");
      out.write("                                                        } else {\r\n");
      out.write("                                                            gender = \"Female\";\r\n");
      out.write("                                                        }\r\n");
      out.write("\r\n");
      out.write("//                                                        var selectSta = $('input[id=\"patient_active\"]:checked').val();\r\n");
      out.write("//                                                        if (selectSta === \"on\") {\r\n");
      out.write("//                                                            status = \"enable\";\r\n");
      out.write("//                                                        } else {\r\n");
      out.write("//                                                            status = \"disable\";\r\n");
      out.write("//                                                        }\r\n");
      out.write("                                                        \r\n");
      out.write("                                                        console.log(firstName +\" firstName\");\r\n");
      out.write("                                                        console.log(lastName +\" lastName\");\r\n");
      out.write("                                                        console.log(idUpdate +\" idUp\");\r\n");
      out.write("                                                        console.log(idAccountUpdate +\" idAccountUpdate\");\r\n");
      out.write("                                                        console.log(phone +\" phone\");\r\n");
      out.write("                                                        console.log(password +\" password\");\r\n");
      out.write("                                                        console.log(dob +\" dob\");\r\n");
      out.write("                                                        console.log(gender +\" gender\");\r\n");
      out.write("                                                        console.log(address +\" address\");\r\n");
      out.write("                                                        console.log(avatar +\" avatar\");\r\n");
      out.write("                                                        \r\n");
      out.write("                                                        if (firstName.length === 0 || !validateName(removeAscent(firstName)) || firstName.length > 14) {\r\n");
      out.write("                                                            $('#inputFirstname').addClass('error');\r\n");
      out.write("                                                            document.getElementById('messageFirstname').style.color = 'red';\r\n");
      out.write("                                                            document.getElementById('messageFirstname').innerHTML = 'First Name invalid ✘';\r\n");
      out.write("                                                            if (lastName.length === 0 || !validateName(removeAscent(lastName)) || lastName.length > 35) {\r\n");
      out.write("                                                                $('#inputLastname').addClass('error');\r\n");
      out.write("                                                                document.getElementById('messageLastname').style.color = 'red';\r\n");
      out.write("                                                                document.getElementById('messageLastname').innerHTML = 'Last Name invalid ✘';\r\n");
      out.write("                                                            }\r\n");
      out.write("\r\n");
      out.write("                                                            if (password.length > 30 || password.length < 6) {\r\n");
      out.write("                                                                $('#inputPassword').addClass('error');\r\n");
      out.write("                                                                document.getElementById('messagePassword').style.color = 'red';\r\n");
      out.write("                                                                document.getElementById('messagePassword').innerHTML = 'Password must be between 6-30 charcters';\r\n");
      out.write("                                                            }\r\n");
      out.write("                                                            if (phone.length !== 10 || !validatePhone(phone)) {\r\n");
      out.write("                                                                $('#inputPhone').addClass('error');\r\n");
      out.write("                                                                document.getElementById('messagePhone').style.color = 'red';\r\n");
      out.write("                                                                document.getElementById('messagePhone').innerHTML = 'Incorrect phone number format ✘';\r\n");
      out.write("                                                            }\r\n");
      out.write("\r\n");
      out.write("                                                        } else if (lastName.length === 0 || !validateName(removeAscent(lastName)) || lastName.length > 35) {\r\n");
      out.write("                                                            $('#inputLastname').addClass('error');\r\n");
      out.write("                                                            document.getElementById('messageLastname').style.color = 'red';\r\n");
      out.write("                                                            document.getElementById('messageLastname').innerHTML = 'Last Name invalid ✘';\r\n");
      out.write("\r\n");
      out.write("                                                            if (password.length > 30 || password.length < 6) {\r\n");
      out.write("                                                                $('#inputPassword').addClass('error');\r\n");
      out.write("                                                                document.getElementById('messagePassword').style.color = 'red';\r\n");
      out.write("                                                                document.getElementById('messagePassword').innerHTML = 'Password must be between 6-30 charcters';\r\n");
      out.write("                                                            }\r\n");
      out.write("                                                            if (phone.length !== 10 || !validatePhone(phone)) {\r\n");
      out.write("                                                                $('#inputPhone').addClass('error');\r\n");
      out.write("                                                                document.getElementById('messagePhone').style.color = 'red';\r\n");
      out.write("                                                                document.getElementById('messagePhone').innerHTML = 'Incorrect phone number format ✘';\r\n");
      out.write("                                                            }\r\n");
      out.write("                                                        }\r\n");
      out.write("\r\n");
      out.write("                                                        else if (password.length > 30 || password.length < 6) {\r\n");
      out.write("                                                            $('#inputPassword').addClass('error');\r\n");
      out.write("                                                            document.getElementById('messagePassword').style.color = 'red';\r\n");
      out.write("                                                            document.getElementById('messagePassword').innerHTML = 'Password must be between 6-30 charcters';\r\n");
      out.write("                                                            if (phone.length !== 10 || !validatePhone(phone)) {\r\n");
      out.write("                                                                $('#inputPhone').addClass('error');\r\n");
      out.write("                                                                document.getElementById('messagePhone').style.color = 'red';\r\n");
      out.write("                                                                document.getElementById('messagePhone').innerHTML = 'Incorrect phone number format ✘';\r\n");
      out.write("                                                            }\r\n");
      out.write("                                                        } else if (phone.length !== 10 || !validatePhone(phone)) {\r\n");
      out.write("                                                            $('#inputPhone').addClass('error');\r\n");
      out.write("                                                            document.getElementById('messagePhone').style.color = 'red';\r\n");
      out.write("                                                            document.getElementById('messagePhone').innerHTML = 'Incorrect phone number format ✘';\r\n");
      out.write("                                                        } else if (count === 1) {\r\n");
      out.write("\r\n");
      out.write("                                                        } else {\r\n");
      out.write("                                                            toastr[\"success\"](\"Create Successfully!\", \"Success\", {\"progressBar\": true, \"closeButton\": true, \"positionClass\": \"toast-top-full-width\"});\r\n");
      out.write("                                                            function uploadImage() {\r\n");
      out.write("                                                                const ref = firebase.storage().ref();\r\n");
      out.write("                                                                const file = document.querySelector(\"#avatar\").files[0];\r\n");
      out.write("                                                                if (file) {\r\n");
      out.write("                                                                    const name = +new Date() + \"-\" + file.name;\r\n");
      out.write("                                                                    const metadata = {\r\n");
      out.write("                                                                        contentType: file.type\r\n");
      out.write("                                                                    };\r\n");
      out.write("                                                                    const task = ref.child(name).put(file, metadata);\r\n");
      out.write("                                                                    task.then(snapshot => snapshot.ref.getDownloadURL()).then(url => {\r\n");
      out.write("                                                                        ajax(url);\r\n");
      out.write("                                                                    });\r\n");
      out.write("                                                                } else {\r\n");
      out.write("                                                                    ajax(imageOld);\r\n");
      out.write("                                                                }\r\n");
      out.write("                                                            }\r\n");
      out.write("                                                            function ajax(url) {\r\n");
      out.write("                                                                return  $.ajax({\r\n");
      out.write("                                                                    type: \"PUT\",\r\n");
      out.write("                                                                    dataType: \"json\",\r\n");
      out.write("                                                                    contentType: \"application/json; charset=UTF-8\",\r\n");
      out.write("                                                                    headers: {\r\n");
      out.write("                                                                        Authorization: 'Bearer ' + token},\r\n");
      out.write("                                                                    data: JSON.stringify({\r\n");
      out.write("                                                                        \"address\": address,\r\n");
      out.write("                                                                        \"gender\": gender,\r\n");
      out.write("                                                                        \"dob\": dob,\r\n");
      out.write("                                                                        \"name\": lastName + \" \" + firstName,\r\n");
      out.write("                                                                        \"id\": idUpdate,\r\n");
      out.write("                                                                        \"image\": url,\r\n");
      out.write("                                                                        \"password\": password,\r\n");
      out.write("                                                                        \"medicalNote\": \"\",\r\n");
      out.write("                                                                        \"accountId\": idAccountUpdate,\r\n");
      out.write("                                                                        \"bloodType\": \"\",\r\n");
      out.write("                                                                        \"eyesight\": \"\",\r\n");
      out.write("                                                                        \"height\": \"\",\r\n");
      out.write("                                                                        \"weight\": \"\",\r\n");
      out.write("                                                                        \r\n");
      out.write("//                                                                        \"token\": \"\"\r\n");
      out.write("                                                                    }),\r\n");
      out.write("                                                                    url: \"http://14.161.47.36:8080/PHR_System-0.0.1-SNAPSHOT/patients/patient/\" + data.id,\r\n");
      out.write("                                                                    complete: function (jqXHR) {\r\n");
      out.write("\r\n");
      out.write("                                                                        if (jqXHR.status === 200) {\r\n");
      out.write("                                                                            alert(jqXHR.status);\r\n");
      out.write("                                                                            window.location.href = \"patients.jsp\";\r\n");
      out.write("                                                                        }\r\n");
      out.write("                                                                    }\r\n");
      out.write("                                                                });\r\n");
      out.write("                                                            }\r\n");
      out.write("                                                            uploadImage();\r\n");
      out.write("                                                        }\r\n");
      out.write("                                                    });\r\n");
      out.write("                                                };\r\n");
      out.write("//              ==================================Check Password==========================================\r\n");
      out.write("                                                var check = function () {\r\n");
      out.write("                                                    if (document.getElementById('inputPassword').value ===\r\n");
      out.write("                                                            document.getElementById('confirmPass').value && document.getElementById('inputPassword').value !== \"\") {\r\n");
      out.write("                                                        document.getElementById('message').style.color = 'green';\r\n");
      out.write("                                                        document.getElementById('message').innerHTML = 'OK ✔';\r\n");
      out.write("                                                        $(\"#createPatient\").removeAttr(\"disabled\");\r\n");
      out.write("                                                    } else {\r\n");
      out.write("                                                        if (document.getElementById('inputPassword').value !== \"\") {\r\n");
      out.write("                                                            document.getElementById('message').style.color = 'red';\r\n");
      out.write("                                                            document.getElementById('message').innerHTML = 'not matching ✘';\r\n");
      out.write("                                                            $(\"#createPatient\").attr(\"disabled\", \"disabled\");\r\n");
      out.write("                                                        } else {\r\n");
      out.write("                                                            document.getElementById('message').innerHTML = '';\r\n");
      out.write("                                                        }\r\n");
      out.write("\r\n");
      out.write("                                                    }\r\n");
      out.write("                                                };\r\n");
      out.write("        </script>\r\n");
      out.write("    </body>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("    <!-- add-patient24:07-->\r\n");
      out.write("</html>\r\n");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
